import{B as $,d as O,M as P,F as G,f as X,g as S,T as F,h as U,i as Z,E as H,k as D,l as q,_ as J,n as K,o as Q,j as y,C as Y,b as V,O as tt,P as et,t as ot}from"./index-B4JLZIx8.js";import{r as i}from"./vendor-eKLMs-xS.js";import{S as rt}from"./SectionWrapper-CUO87O6U.js";class st extends ${constructor(c,h,p,T){super();const u=[],g=[],M=[],l=new O,A=new P;A.makeRotationFromEuler(p),A.setPosition(h);const B=new P;B.copy(A).invert(),k(),this.setAttribute("position",new G(u,3)),this.setAttribute("normal",new G(g,3)),this.setAttribute("uv",new G(M,2));function k(){let t,e=[];const r=new O,n=new O;if(c.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const s=c.geometry,E=s.attributes.position,w=s.attributes.normal;if(s.index!==null){const m=s.index;for(t=0;t<m.count;t++)r.fromBufferAttribute(E,m.getX(t)),n.fromBufferAttribute(w,m.getX(t)),j(e,r,n)}else for(t=0;t<E.count;t++)r.fromBufferAttribute(E,t),n.fromBufferAttribute(w,t),j(e,r,n);for(e=d(e,l.set(1,0,0)),e=d(e,l.set(-1,0,0)),e=d(e,l.set(0,1,0)),e=d(e,l.set(0,-1,0)),e=d(e,l.set(0,0,1)),e=d(e,l.set(0,0,-1)),t=0;t<e.length;t++){const m=e[t];M.push(.5+m.position.x/T.x,.5+m.position.y/T.y),m.position.applyMatrix4(A),u.push(m.position.x,m.position.y,m.position.z),g.push(m.normal.x,m.normal.y,m.normal.z)}}function j(t,e,r){e.applyMatrix4(c.matrixWorld),e.applyMatrix4(B),r.transformDirection(c.matrixWorld),t.push(new v(e.clone(),r.clone()))}function d(t,e){const r=[],n=.5*Math.abs(T.dot(e));for(let s=0;s<t.length;s+=3){let E,w,m,C=0,f,x,b,R;const I=t[s+0].position.dot(e)-n,_=t[s+1].position.dot(e)-n,N=t[s+2].position.dot(e)-n;switch(E=I>0,w=_>0,m=N>0,C=(E?1:0)+(w?1:0)+(m?1:0),C){case 0:{r.push(t[s]),r.push(t[s+1]),r.push(t[s+2]);break}case 1:{if(E&&(f=t[s+1],x=t[s+2],b=a(t[s],f,e,n),R=a(t[s],x,e,n)),w){f=t[s],x=t[s+2],b=a(t[s+1],f,e,n),R=a(t[s+1],x,e,n),r.push(b),r.push(x.clone()),r.push(f.clone()),r.push(x.clone()),r.push(b.clone()),r.push(R);break}m&&(f=t[s],x=t[s+1],b=a(t[s+2],f,e,n),R=a(t[s+2],x,e,n)),r.push(f.clone()),r.push(x.clone()),r.push(b),r.push(R),r.push(b.clone()),r.push(x.clone());break}case 2:{E||(f=t[s].clone(),x=a(f,t[s+1],e,n),b=a(f,t[s+2],e,n),r.push(f),r.push(x),r.push(b)),w||(f=t[s+1].clone(),x=a(f,t[s+2],e,n),b=a(f,t[s],e,n),r.push(f),r.push(x),r.push(b)),m||(f=t[s+2].clone(),x=a(f,t[s],e,n),b=a(f,t[s+1],e,n),r.push(f),r.push(x),r.push(b));break}}}return r}function a(t,e,r,n){const s=t.position.dot(r)-n,E=e.position.dot(r)-n,w=s/(s-E);return new v(new O(t.position.x+w*(e.position.x-t.position.x),t.position.y+w*(e.position.y-t.position.y),t.position.z+w*(e.position.z-t.position.z)),new O(t.normal.x+w*(e.normal.x-t.normal.x),t.normal.y+w*(e.normal.y-t.normal.y),t.normal.z+w*(e.normal.z-t.normal.z)))}}}class v{constructor(c,h){this.position=c,this.normal=h}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const z=o=>o===Object(o)&&!Array.isArray(o)&&typeof o!="function";function W(o,c){const h=X(u=>u.gl),p=S(F,z(o)?Object.values(o):o);return i.useLayoutEffect(()=>{c==null||c(p)},[c]),i.useEffect(()=>{if("initTexture"in h){let u=[];Array.isArray(p)?u=p:p instanceof U?u=[p]:z(p)&&(u=Object.values(p)),u.forEach(g=>{g instanceof U&&h.initTexture(g)})}},[h,p]),i.useMemo(()=>{if(z(o)){const u={};let g=0;for(const M in o)u[M]=p[g++];return u}else return p},[o,p])}W.preload=o=>S.preload(F,o);W.clear=o=>S.clear(F,o);function nt(o){return Array.isArray(o)}function L(o=[0,0,0]){return nt(o)?o:o instanceof O||o instanceof H?[o.x,o.y,o.z]:[o,o,o]}const at=i.forwardRef(function({debug:c,depthTest:h=!1,polygonOffsetFactor:p=-10,map:T,mesh:u,children:g,position:M,rotation:l,scale:A,...B},k){const j=i.useRef(null);i.useImperativeHandle(k,()=>j.current);const d=i.useRef(null);return i.useLayoutEffect(()=>{const a=(u==null?void 0:u.current)||j.current.parent,t=j.current;if(!(a instanceof Z))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const e={position:new O,rotation:new H,scale:new O(1,1,1)};if(a){D(e,{position:M,scale:A});const r=a.matrixWorld.clone();if(a.matrixWorld.identity(),!l||typeof l=="number"){const n=new q;n.position.copy(e.position),n.lookAt(a.position),typeof l=="number"&&n.rotateZ(l),D(e,{rotation:n.rotation})}else D(e,{rotation:l});return t.geometry=new st(a,e.position,e.rotation,e.scale),d.current&&(D(d.current,e),d.current.traverse(n=>n.raycast=()=>null)),a.matrixWorld=r,()=>{t.geometry.dispose()}}},[u,...L(M),...L(A),...L(l)]),i.createElement("mesh",J({ref:j,"material-transparent":!0,"material-polygonOffset":!0,"material-polygonOffsetFactor":p,"material-depthTest":h,"material-map":T},B),g,c&&i.createElement("mesh",{ref:d},i.createElement("boxGeometry",null),i.createElement("meshNormalMaterial",{wireframe:!0}),i.createElement("axesHelper",null)))}),it=i.forwardRef(({children:o,enabled:c=!0,speed:h=1,rotationIntensity:p=1,floatIntensity:T=1,floatingRange:u=[-.1,.1],...g},M)=>{const l=i.useRef(null);i.useImperativeHandle(M,()=>l.current,[]);const A=i.useRef(Math.random()*1e4);return K(B=>{var k,j;if(!c||h===0)return;const d=A.current+B.clock.getElapsedTime();l.current.rotation.x=Math.cos(d/4*h)/8*p,l.current.rotation.y=Math.sin(d/4*h)/8*p,l.current.rotation.z=Math.sin(d/4*h)/20*p;let a=Math.sin(d/4*h)/10;a=Q.mapLinear(a,-.1,.1,(k=u==null?void 0:u[0])!==null&&k!==void 0?k:-.1,(j=u==null?void 0:u[1])!==null&&j!==void 0?j:.1),l.current.position.y=a*T,l.current.updateMatrix()}),i.createElement("group",g,i.createElement("group",{ref:l,matrixAutoUpdate:!1},o))}),ut=o=>{const[c]=W([o.imgUrl]);return y.jsxs(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[y.jsx("ambientLight",{intensity:.25}),y.jsx("directionalLight",{position:[0,0,.05]}),y.jsxs("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[y.jsx("icosahedronGeometry",{args:[1,1]}),y.jsx("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),y.jsx(at,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],scale:1,map:c,flatShading:!0})]})]})},lt=({icon:o})=>{const c=i.useRef();return i.useEffect(()=>{const h=()=>{c.current&&c.current.reset()};return window.addEventListener("mouseup",h),()=>{window.removeEventListener("mouseup",h)}},[]),y.jsxs(Y,{dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[y.jsxs(i.Suspense,{fallback:y.jsx(V,{}),children:[y.jsx(tt,{ref:c,enableZoom:!1}),y.jsx(ut,{imgUrl:o})]}),y.jsx(et,{all:!0})]})},ct=()=>y.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:ot.map(o=>y.jsx("div",{className:"w-28 h-28",children:y.jsx(lt,{icon:o.icon})},o.name))}),ht=rt(ct,"");export{ht as default};
//# sourceMappingURL=Tech-BlsrBOqP.js.map
